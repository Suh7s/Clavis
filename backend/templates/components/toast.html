<div id="toastRoot" class="pointer-events-none fixed right-4 top-4 z-[60] flex w-[92vw] max-w-sm flex-col gap-2"></div>

<script>
  function showToast(message, tone, duration) {
    const palette = {
      info: 'border-indigo-200 bg-indigo-50 text-indigo-700',
      success: 'border-emerald-200 bg-emerald-50 text-emerald-700',
      warning: 'border-amber-200 bg-amber-50 text-amber-700',
      error: 'border-rose-200 bg-rose-50 text-rose-700'
    };

    const root = document.getElementById('toastRoot');
    if (!root) return;

    const toast = document.createElement('div');
    toast.className = 'pointer-events-auto translate-y-2 rounded-xl border px-4 py-3 text-sm font-medium shadow-lg transition duration-200 ' + (palette[tone] || palette.info);

    const wrapper = document.createElement('div');
    wrapper.className = 'flex items-center justify-between gap-3';

    const text = document.createElement('span');
    text.textContent = String(message || 'Notification');

    const close = document.createElement('button');
    close.type = 'button';
    close.className = 'text-xs font-semibold uppercase tracking-wide opacity-70 hover:opacity-100';
    close.textContent = 'Close';

    wrapper.appendChild(text);
    wrapper.appendChild(close);
    toast.appendChild(wrapper);
    root.appendChild(toast);

    requestAnimationFrame(function() {
      toast.classList.remove('translate-y-2');
    });

    const removeToast = function() {
      toast.classList.add('translate-y-2', 'opacity-0');
      setTimeout(function() {
        toast.remove();
      }, 180);
    };

    close.addEventListener('click', removeToast);
    setTimeout(removeToast, Number.isFinite(duration) ? duration : 4200);
  }
</script>
